<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <title>class Directory</title>
  <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
<h2>class Directory</h2>
<p><b>Provided By</b>: <a href="file:/cention/lib/ferite/module-source/filesystem.fec">filesystem.fec</a></p>
<p>This class provides a means for accessing a directory for reading </p>
<h4>Description</h4>
<p>Do not create instances of this class directly. The way to read a directory is to use the Directory.open or Directory.listing functions which will create an instance and return it for you. </p>
<a name="container_elements">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=title>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=title>
	<tr><td class=title><b>class contents</b> [<i>NB. Highlighted attributes are static members</i>]</td></tr>
  </table>
  <table width="100%" border=0 cellspacing=1 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=mainrow>Functions</td></tr>
<tr><td width="100%" valign=middle class=secondrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#object.close.0">close</a><b>()</b> - You should call this function when you have finished reading </td></tr>
<tr><td width="100%" valign=middle class=secondrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#object.constructor.1">constructor</a><b>(string)</b> - The constructor for a Dir object </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.getCurrent.0">getCurrent</a><b>()</b> - Get the current working directory </td></tr>
<tr><td width="100%" valign=middle class=secondrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#object.getEntry.0">getEntry</a><b>()</b> - Reads a file name from the directory stream </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.make.2">make</a><b>(string,number)</b> - Create a directory with the given modes </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.name.1">name</a><b>(string)</b> - With a given path, get the name of the directory (this effectively removes the last element) </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.open.0">open</a><b>()</b> - Create a directory object, open a directory and return the object for use. </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.remove.2">remove</a><b>(string,number)</b> - Remove a directory from the system </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.setCurrent.1">setCurrent</a><b>(string)</b> - Change the current working directory to the path specified </td></tr>
<tr><td width="100%" valign=middle class=secondrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#object.toArray.0">toArray</a><b>()</b> - Creates an array from the list of files in this directory </td></tr>
<tr><td width="100%" valign=middle class=staticrow><img src="function.png" alt="function" style="vertical-align: middle;"> <a href="#class.walk.1">walk</a><b>(string)</b> - Recursively walk a directory structure providing each file found to a closure </td></tr>
</table></td></tr></table><br>
<h4>Functions</h4>
<a name="object.close.0">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=title>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=title>
	<tr><td class=title><img src="function.png" style="vertical-align: middle;"> function <b>close</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=1 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>You should call this function when you have finished reading </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;function close() </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;true on success, false otherwise     </td></tr>
</table></td></tr></table><br>
<a name="object.constructor.1">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=title>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=title>
	<tr><td class=title><img src="function.png" style="vertical-align: middle;"> function <b>constructor</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=1 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>The constructor for a Dir object </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;function constructor(string directory) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Description:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>This function is the constructor for the Directory class. You should supply it with the name of the directory you wish to read the file names from. You may then either call the toArray() method to generate an array of filenames in one step or repeatedly call the readdir() to read the file names one at a time. To "rewind" to the beginning or to read another directory without creating a new Dir object, call constructor again and the directory stream will be closed and reopened.     </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>directory</b> - The path to the directory to read from </td></tr>
</table></td></tr></table><br>
<a name="class.getCurrent.0">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>getCurrent</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Get the current working directory </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function getCurrent( ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;The current working directory as a string     </td></tr>
</table></td></tr></table><br>
<a name="object.getEntry.0">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=title>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=title>
	<tr><td class=title><img src="function.png" style="vertical-align: middle;"> function <b>getEntry</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=1 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Reads a file name from the directory stream </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;function getEntry() </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Description:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>This function reads the next file name from this directory stream object and returns it as a string. On error, an empty string is returned and err.number is set to the system error number (which is always greater than 0). When there are no more files left to read, an empty string is returned and err.number is set to 0.     </td></tr>
</table></td></tr></table><br>
<a name="class.make.2">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>make</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Create a directory with the given modes </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function make( string dirname, number mode ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Description:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>This creates a directory using the octal modes supplied like File.create </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>dir</b> - The name of the directory to create </td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #2: number <b>mode</b> - The modes to create it with </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;'true' on success, 'false' otherwise and err.str will be set with the error     </td></tr>
</table></td></tr></table><br>
<a name="class.name.1">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>name</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>With a given path, get the name of the directory (this effectively removes the last element) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function name( string name ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>name</b> - The path to process </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;The path component </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Example:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>"/path/to/foo" is converted to "/path/to"	 </td></tr>
</table></td></tr></table><br>
<a name="class.open.0">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>open</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Create a directory object, open a directory and return the object for use. </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function open( string directory ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Description:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>If this function is given a closure, it will itterate over the directories       entries, pasing each one to the closure. </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;A directory object on success if no closure, null otherwise     </td></tr>
</table></td></tr></table><br>
<a name="class.remove.2">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>remove</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Remove a directory from the system </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function remove( string path, number recursive ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>path</b> - The directory to remove </td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #2: number <b>recursive</b> - Whether to recursively remove the contents of the directory </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;true on success, false otherwise.     </td></tr>
</table></td></tr></table><br>
<a name="class.setCurrent.1">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>setCurrent</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Change the current working directory to the path specified </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function setCurrent( string path ) </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>path</b> - The path to change to </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Returns:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;'true' on success, 'false' otherwise and err.str will be set with the error     </td></tr>
</table></td></tr></table><br>
<a name="object.toArray.0">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=title>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=title>
	<tr><td class=title><img src="function.png" style="vertical-align: middle;"> function <b>toArray</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=1 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Creates an array from the list of files in this directory </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;function toArray() </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Description:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>This function returns an array of strings containing the names of the files in the directory this Dir object points to. You should either call this function or repeatedly call the readdir() function, not both. You can only call toArray() once unless you call the constructor again to reopen the directory stream.     </td></tr>
</table></td></tr></table><br>
<a name="class.walk.1">
<table border=0 cellpadding=1 cellspacing=0 width="100%" class=border><tr><td class=statictitle>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=statictitle>
	<tr><td class=statictitle><img src="function.png" style="vertical-align: middle;"> static function <b>walk</b> <a href="#container_elements"><img src="back.png" alt="Click to go up to the list" border=0></a></td></tr>
  </table>
  <table width="100%" border=0 cellspacing=0 cellpadding=3 class=contents>
<tr><td width="100%" valign=middle class=secondrow>Recursively walk a directory structure providing each file found to a closure </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Declaration:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;static function walk </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Parameters:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>&nbsp;&nbsp;&nbsp;&nbsp;Parameter #1: string <b>path</b> - The top level directory to walk </td></tr>
<tr><td width="100%" valign=middle class=mainrow><i>Example:</i></td></tr>
<tr><td width="100%" valign=middle class=secondrow>Directory.walk( '/' ) using ( file ){ Console.println(file); }	 </td></tr>
</table></td></tr></table><br>
<font face=arial size=2>Automatically generated at <i>10:10AM, Friday 05 November 2010</i> by <i>feritedoc</i>.</font>
</body></html>
